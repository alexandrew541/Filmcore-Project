CREATE TABLE users
( 
userID bigint IDENTITY(1,1) PRIMARY KEY, 
username varchar(20) NOT NULL, 
password varchar(120) NOT NULL,
email varchar(60) NOT NULL, 
CONSTRAINT DB_usercon UNIQUE (username, email)
);


CREATE TABLE posts
( 
postID bigint IDENTITY(1,1) PRIMARY KEY NOT NULL, 
posttitle varchar(120) NOT NULL, 
dateposted varchar(25) NOT NULL,
content varchar(2000)NOT NULL, 
blob varchar(120),
usersID bigint NOT NULL,
FOREIGN KEY (usersID) REFERENCES users(userID)
);

CREATE TABLE comments
( 
commentID bigint IDENTITY(1,1) PRIMARY KEY NOT NULL, 
commentcontent varchar(300) NOT NULL, 
commentdate varchar(25) NOT NULL,
userscomID bigint NOT NULL,
postscomID bigint NOT NULL,
FOREIGN KEY (userscomID) REFERENCES users(userID),
FOREIGN KEY (postscomID) REFERENCES posts(postID)
);



INSERT into users VALUES( 'alexandrew', 'password541', 'alex@hotmail.com');

INSERT into posts VALUES( 'First Post', '22/11/2021', 'First content name', 'blobname', 1);

INSERT into posts VALUES( 'Second Post', '23/11/2021', 'Second content name', 'blob2', 1);

INSERT into comments VALUES( 'First Comment', '23/11/2021', 1, 1);




SELECT * FROM comments INNER JOIN users ON postscomID = commentID  AND userscomID = userID

SELECT * FROM comments INNER JOIN users ON postscomID = 1 AND userscomID = userID




